%%%
%% Testing :: Unit Testing
%%%
\section{Unit Testing}
\label{sec:unit_testing}

As part of the test strategy --- outlined in the previous section --- the system
will under go unit testing. The unit tests are designed to test each individual 
class upon their own as well as in combination with other classes.

The subsections within this section will discuss each of test suites that are 
designed to test each of the packages that are used within the system.

%%%
%% Testing :: Unit Testing :: Core Suite
%%%
\subsection{Core Suite}
\label{sub:test_core_suite}

The core suite focuses upon testing the various classes that make up the core 
package. Each of the individual core data classes --- Clue, Solution and 
SolutionPattern --- are tested upon their individual properties and 
characteristics.

For example test 8 will test to ensure the given clue is able to return an array
of words, whilst test 38 will test to ensure that the SolutionPattern correctly
returns the number of words expected in the solution.

The SolutionCollection test will test the various specific methods associated 
with the SolutionCollection, and will not test the base methods that have been 
overridden from the base class --- Set. For example test 33 ensures that a given
SolutionCollection returns the best solution --- i.e. the solution with the 
highest confidence rating.

Finally the Manager test class will test to ensure that a number of solvers are 
correct instigated and spread across as many available threads upon the machine
running the code. It will also ensure that the correct solution is returned 
within the list of solutions.

\begin{longtable}{|C{2cm}|L{11.5cm}|C{2cm}|}
  \hline
  {\bfseries Test No.} & {\bfseries Test} & {\bfseries Outcome}   \\
  \hline
  \multicolumn{3}{|l|}{{\bfseries Clue Test}}                     \\  \hline
  1   & testClueStringString                               & PASS \\  \hline
  2   & testGetActualSolution                              & PASS \\  \hline
  3   & testGetPattern                                     & PASS \\  \hline
  4   & testGetSolutions                                   & PASS \\  \hline
  5   & testGetType                                        & PASS \\  \hline
  6   & testGetClueNoWithPunctuation                       & PASS \\  \hline
  7   & testGetClueNoPunctuationNoSpaces                   & PASS \\  \hline
  8   & testGetClueWords                                   & PASS \\  \hline
  9   & testGetBestSolution                                & PASS \\  \hline
  10  & testGetClue                                        & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Manager Test}}                  \\  \hline
  11  & testDistributeAndSolveClue                         & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Solution Test}}                 \\  \hline
  12  & testCompareToSameConfidencesAndDifferentSolutions  & PASS \\  \hline
  13  & testCompareToDifferentConfidencesAndSameSolutions  & PASS \\  \hline
  14  & testCompareToDifferentConfidencesAndSolutions      & PASS \\  \hline
  15  & testEqualsDifferentSolutionAndConfidence           & PASS \\  \hline
  16  & testEqualsSameSolutionAndConfidence                & PASS \\  \hline
  17  & testEqualsSameSolutionAndDifferentConfidence       & PASS \\  \hline
  18  & testEqualsDifferentSolutionAndSameConfidence       & PASS \\  \hline
  19  & testGetConfidence                                  & PASS \\  \hline
  20  & testGetSolution                                    & PASS \\  \hline
  21  & testSetConfidence                                  & PASS \\  \hline
  22  & testToString                                       & PASS \\  \hline
  23  & testAddToTraceAndGetSolutionTrace                  & PASS \\  \hline
  23  & testCompareToSameConfidencesAndSolutions           & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries SolutionCollection Test}}       \\  \hline
  24  & testContainsString                                 & PASS \\  \hline
  25  & testGetSolutionsGreaterThan                        & PASS \\  \hline
  26  & testGetSolutions                                   & PASS \\  \hline
  27  & testGetSolutionsLessThan                           & PASS \\  \hline
  28  & testRemoveAllStrings                               & PASS \\  \hline
  29  & testSortSolutions                                  & PASS \\  \hline
  30  & testAddNewSolution                                 & PASS \\  \hline
  31  & testAddDuplicate                                   & PASS \\  \hline
  32  & testAddIncreaseConfidence                          & PASS \\  \hline
  33  & testGetBestSolution                                & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries SolutionPattern Test}}          \\  \hline
  34  & testToString                                       & PASS \\  \hline
  35  & testToPattern                                      & PASS \\  \hline
  36  & testStaticMatch                                    & PASS \\  \hline
  37  & testGetKnownChars                                  & PASS \\  \hline
  38  & testGetNumberOfWords                               & PASS \\  \hline
  39  & testRecomposeSolution                              & PASS \\  \hline
  40  & testGetTotalLength                                 & PASS \\  \hline
  41  & testHasMultipleWords                               & PASS \\  \hline
  42  & testFilterSolutions                                & PASS \\  \hline
  43  & testGetIndividualWordLengths                       & PASS \\  \hline
  44  & testMatch                                          & PASS \\  \hline
  45  & testGetPattern                                     & PASS \\  \hline
  46  & testSeparateSolution                               & PASS \\  \hline
  47  & testSplitPattern                                   & PASS \\  \hline
\end{longtable}


%%%
%% Testing :: Unit Testing :: Config Suite
%%%
\subsection{Config Suite}
\label{sub:test_config_suite}

The config suite focuses upon testing the configuration class named settings. 
The suite ensures that each of the methods are correctly returning the expected 
values. The tests within this suite are relatively straightforward, as it is a 
case of ensuring the correct values are returned.

\begin{longtable}{|C{2cm}|L{11.5cm}|C{2cm}|}
  \hline
  {\bfseries Test No.} & {\bfseries Test} & {\bfseries Outcome}   \\
  \hline
  \multicolumn{3}{|l|}{{\bfseries Settings Test}}                 \\  \hline
  48  & testGetCustomDictionaryStream                      & PASS \\  \hline
  49  & testGetDictionaryExclusionsStream                  & PASS \\  \hline
  50  & testGetPropertyStream                              & PASS \\  \hline
  51  & testGetPOSModelStream                              & PASS \\  \hline
  52  & testGetChunkerModelStream                          & PASS \\  \hline
  53  & testGetFilename                                    & PASS \\  \hline
  54  & testGetIndicatorsURL                               & PASS \\  \hline
  55  & testGetDBURL                                       & PASS \\  \hline
  56  & testGetCategoriserModelStream                      & PASS \\  \hline
  57  & testGetSentenceDetectorModelStream                 & PASS \\  \hline
  58  & testGetParserModelStream                           & PASS \\  \hline
  59  & testGetTokeniserModelStream                        & PASS \\  \hline
  60  & testGetThesaurusStream                             & PASS \\  \hline
  61  & testGetHomophoneDictionaryStream                   & PASS \\  \hline
  62  & testGetDBUsername                                  & PASS \\  \hline
  63  & testGetDBPassword                                  & PASS \\  \hline
  64  & testGetDictionarStream                             & PASS \\  \hline
\end{longtable}


%%%
%% Testing :: Unit Testing :: Resource Suite
%%%
\subsection{Resource Suite}
\label{sub:test_resource_suite}



\begin{longtable}{|C{2cm}|L{11.5cm}|C{2cm}|}
  \hline
  {\bfseries Test No.} & {\bfseries Test} & {\bfseries Outcome}   \\  
  \hline
  \multicolumn{3}{|l|}{{\bfseries HomophoneDictionary Test}}      \\  \hline
  65  & testGetPronunciations                              & PASS \\  \hline
  66  & testGetHomonyms                                    & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Dictionary Test}}               \\  \hline
  67  & testMatchesWithPrefix                              & PASS \\  \hline
  68  & testMatchesWithNonString                           & PASS \\  \hline
  69  & testMatchesWithNonPrefix                           & PASS \\  \hline
  70  & testDictionaryFilter                               & PASS \\  \hline
  71  & testIsDictionaryWord                               & PASS \\  \hline
  72  & testWrongDictionaryWord                            & PASS \\  \hline
  73  & testBlankDictionaryWord                            & PASS \\  \hline
  74  & testMatchingWords                                  & PASS \\  \hline
  75  & testMatchingWordsNonString                         & PASS \\  \hline
  76  & testMatchingWordsNonWord                           & PASS \\  \hline
  77  & testPrefixMatch                                    & PASS \\  \hline
  78  & testPrefixMatchWithNonPrefix                       & PASS \\  \hline
  79  & testPrefixMatchWithNonString                       & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Thesaurus Test}}                \\  \hline
  80  & testSynonymMatch                                   & PASS \\  \hline
  81  & testGetSynonyms                                    & PASS \\  \hline
  82  & testGetSpecificSynonyms                            & PASS \\  \hline
  83  & testGetSpecificSynonymsNoKnownChars                & PASS \\  \hline
  84  & testGetSecondSynonymsWithPattern                   & PASS \\  \hline
  85  & testGetSecondSynonymsMinMaxLength                  & PASS \\  \hline
  86  & testConfidenceAdjust                               & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Abbreviations Test}}            \\  \hline
  87  & testGetAbbreviationsForWord                        & PASS \\  \hline
  88  & testGetAbbreviationsForClue                        & PASS \\  \hline
\end{longtable}


%%%
%% Testing :: Unit Testing :: Servlet Suite
%%%
\subsection{Servlet Suite}
\label{sub:test_servlet_suite}

The servlet suite focuses upon testing the server side request handling and 
validations. The automated testing of the servlet required the use of the Apache
HttpComponents project, which provides a number of low level tools that enables 
HTTP protocols to be tested.

In order for the system to be able to correctly compute a list of possible 
solutions the servlet requires the clue, the solution pattern, and the solution
length.

Tests 89 -- 95 attempt to give only one or two of the required parameters to 
ensure that the request is rejected. A rejected rejects will return an error 
(in either XMl or JSON) explaining what is incorrect.

Tests 96 and 97 give the three require parameters, but make the pattern and 
solution lengths unmatchable --- for example a solution length of 3,4 should not
be matched to ?????,?? as that would have a solution length of 5,2.

\begin{longtable}{|C{2cm}|L{11.5cm}|C{2cm}|}
  \hline
  {\bfseries Test No.} & {\bfseries Test} & {\bfseries Outcome}   \\ 
  \hline
  \multicolumn{3}{|l|}{{\bfseries SolverServlet Test}}            \\  \hline
  89  & testNoParameters                                   & PASS \\  \hline
  90  & testClueParameterOnly                              & PASS \\  \hline
  91  & testClueSolutionParameterOnly                      & PASS \\  \hline
  92  & testCluePatternParameterOnly                       & PASS \\  \hline
  93  & testSolutionPatternParameterOnly                   & PASS \\  \hline
  94  & testSolutionParameterOnly                          & PASS \\  \hline
  95  & testPatternParameterOnly                           & PASS \\  \hline
  96  & testInvalidPattern                                 & PASS \\  \hline
  97  & testInvalidSolution                                & PASS \\  \hline
\end{longtable}


%%%
%% Testing :: Unit Testing :: Solver Suite
%%%
\subsection{Solver Suite}
\label{sub:test_solver_suite}



\begin{longtable}{|C{2cm}|L{11.5cm}|C{2cm}|}
  \hline
  {\bfseries Test No.} & {\bfseries Test} & {\bfseries Outcome}   \\
  \hline
  \multicolumn{3}{|l|}{{\bfseries Acrostic Test}}                 \\  \hline
  98  & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Anagram Test}}                  \\  \hline
  99  & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Hidden Test}}                   \\  \hline
  100 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Pattern Test}}                  \\  \hline
  101 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries DoubleDefinition Test}}         \\  \hline
  102 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Homophone Test}}                \\  \hline
  103 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Spoonerism Test}}               \\  \hline
  104 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Palindrome Test}}               \\  \hline
  105 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Reversal Test}}                 \\  \hline
  106 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Deletion Test}}                 \\  \hline
  107 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Container Test}}                \\  \hline
  108 & testAlgorithm                                      & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Charade Test}}                  \\  \hline
  109 & testAlgorithm                                      & PASS \\  \hline
\end{longtable}


%%%
%% Testing :: Unit Testing :: Util Suite
%%%
\subsection{Util Suite}
\label{sub:test_util_suite}

The util suite focuses upon testing the various classes that make up the util 
package. As the utils package mainly provides helper methods, the classes have 
been tested individually, however many of the classes would have been tested 
during the other suite of tests.

The XMLBuilder test class tests to ensure that a valid XML document can be 
created based upon a number of input values, including solution collections. It
is imperative that the XMLBuilder class creates well-formed XML code, as this is
used in the responses that are generated by the web service.

The WordUtils and Confidence test classes ensure that these fundamental classes
correctly return their data in order to ensure that usage within the system will
always be correct.

\begin{longtable}{|C{2cm}|L{11.5cm}|C{2cm}|}
  \hline
  {\bfseries Test No.} & {\bfseries Test} & {\bfseries Outcome}   \\
  \hline
  \multicolumn{3}{|l|}{{\bfseries DB Test}}                       \\  \hline
  111 & testGetTestClues7                                  & PASS \\  \hline
  112 & testGetTestClues8                                  & PASS \\  \hline
  113 & testGetTestClues1                                  & PASS \\  \hline
  114 & testGetTestClues2                                  & PASS \\  \hline
  115 & testGetTestClues3                                  & PASS \\  \hline
  116 & testGetTestClues4                                  & PASS \\  \hline
  117 & testGetTestClues5                                  & PASS \\  \hline
  118 & testGetTestClues6                                  & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries WordUtils Test}}                \\  \hline
  119 & testHasCharacters                                  & PASS \\  \hline
  120 & testNormaliseInput                                 & PASS \\  \hline
  121 & testRemoveSpacesAndHyphens                         & PASS \\  \hline
  122 & testCharactersPresentInWord                        & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Confidence Test}}               \\  \hline
  123 & testMultiply                                       & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries Cache Test}}                    \\  \hline
  124 & testPut                                            & PASS \\  \hline
  125 & testContainsKey                                    & PASS \\  \hline
  126 & testPrePut                                         & PASS \\  \hline
  127 & testGet                                            & PASS \\  \hline
  \multicolumn{3}{|l|}{{\bfseries XMLBuilder Test}}               \\  \hline
  128 & testXMLBuilder                                     & PASS \\  \hline
  129 & testXMLBuilderStringString                         & PASS \\  \hline
  130 & testXMLBuilderStringStringDouble                   & PASS \\  \hline
  131 & testAddKeyValue                                    & PASS \\  \hline
  132 & testAddError                                       & PASS \\  \hline
  133 & testAddErrors                                      & PASS \\  \hline
  134 & testAddSolution                                    & PASS \\  \hline
\end{longtable}
